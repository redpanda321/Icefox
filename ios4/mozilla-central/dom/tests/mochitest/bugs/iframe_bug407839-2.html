<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-type" content="text/html;charset=UTF-8" />
  <title>Child window at sub1.ält.example.org</title>
  <script type="application/javascript">

function run()
{
  var storage;

  var message = "child-response";

  // This script expects to be loaded as sub1.ält.example.org
  if (window.location.host != "sub1.ält.example.org:8000") {
    message += "\n child not loaded as sub1.ält.example.org:8000";
  }

  try {
    storage = globalStorage["sub1.ält.example.org"];
  }
  catch (ex) {
    message += "\n failed globalStorage[sub1.ält.example.org]";
  }

  window.parent.postMessage(message, "http://mochi.test:8888");
}

window.addEventListener("load", run, false);
  </script>
</head>
<body>
</body>
</html>
