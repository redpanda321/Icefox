#
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

DEPTH		= ../../..
topsrcdir	= @top_srcdir@
srcdir		= @srcdir@
VPATH		= @srcdir@

include $(DEPTH)/config/autoconf.mk

# This isn't XPCOM code, but it wants to use STL, so disable the STL
# wrappers
STL_FLAGS =

PROGRAM = ssltunnel$(BIN_SUFFIX)

CPPSRCS = ssltunnel.cpp

# Use local includes because they are inserted before INCLUDES
# so that Mozilla's nss.h is used, not glibc's
LOCAL_INCLUDES += $(NSPR_CFLAGS) $(NSS_CFLAGS)

LIBS = \
  $(NSPR_LIBS) \
  $(NSS_LIBS) \
  $(MOZALLOC_LIB) \
  $(NULL)

include $(topsrcdir)/config/rules.mk
