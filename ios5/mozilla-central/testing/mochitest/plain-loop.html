<html>
<head>
  <link rel="stylesheet" type="text/css" href="/static/harness.css" />
  <script type="text/javascript" src="/tests/SimpleTest/LogController.js"></script>        
  <script type="text/javascript" src="/tests/SimpleTest/TestRunner.js"></script>        
  <script type="text/javascript" src="/tests/SimpleTest/MozillaFileLogger.js"></script>
  <script type="text/javascript" src="/tests/SimpleTest/setup.js"></script>
  </head>
  <script type="text/javascript">

function loadTests()
{
  var links = {};
  var params = {};
  if (window.parseQueryString) {
    params = parseQueryString(location.search.substring(1), true);
  }

  var table = document.getElementById("test-table");
  var row = table.rows[1];
  row.id = 'tr-' + params.testname;
  row.cells[3].innerHTML= "<a href=" + params.testname + ">" + params.testname + "</a>";

  TestRunner.loopTest(params.testname);
}
</script>

<body onload="loadTests()">
      <!--TODO: this should be separated into a file that both this file and server.js uses-->
      <div class="container">
        <p style="float:right;">
          <small>Based on the MochiKit unit tests.</small>
        </p>
        <div class="status">
          <h1 id="indicator">Status</h1>
          <h2 id="pass">Passed: <span id="pass-count">0</span></h2>
          <h2 id="fail">Failed: <span id="fail-count">0</span></h2>
          <h2 id="fail">Todo: <span id="todo-count">0</span></h2>
        </div>
        <div class="clear"></div>
        <div id="current-test">
          <b>Currently Executing: <span id="current-test-path">_</span></b>
        </div>
        <div class="clear"></div>
        <div class="frameholder">
          <iframe type="content" scrolling="no" id="testframe" width="550" height="350"></iframe>
        </div>
        <div class="clear"></div>
        <div class="toggle">
          <a href="#" id="toggleNonTests">Show Non-Tests</a>
          <br />
        </div>
        <div id="wrapper">
          <table cellpadding="0" cellspacing="0">
          <!-- tbody needed to avoid bug 494546 causing performance problems -->
            <tbody id="test-table">
              <tr>
                <td>Passed</td>
                <td>Failed</td>
                <td>Todo</td>
                <td>Test Files</td>
              </tr>
              <tr class="dir">
                <td>0</td>
                <td>0</td>
                <td>0</td>
                <td></td>
              </tr>
            </tbody>
          </table>
          <br/>
          <table cellpadding="0" cellspacing="0" border="1" bordercolor="red">
          <!-- tbody needed to avoid bug 494546 causing performance problems -->
            <tbody id="fail-table">
            </tbody>
          </table>
        </div>
      </div>
</body>
</html>
